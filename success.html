<!-- success.html (FULL)
  Palette:
  Deep Blue: #1F3A5F (primary)
  Soft Slate: #5E7A8A
  Off-White: #F6F8FA
  Muted Green: #4CAF8A
  Warm Gray: #E1E5EA

  Nav: Start, Nutzungsbedingungen(=ToS), Review, About
-->
<!doctype html>
<html lang="de">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>endmysub — Erhalten</title>
  <meta name="theme-color" content="#1F3A5F" />

  <style>
    :root{
      /* Palette */
      --primary:#1F3A5F;     /* Deep Blue */
      --slate:#5E7A8A;       /* Soft Slate */
      --bg:#F6F8FA;          /* Off-White */
      --green:#4CAF8A;       /* Muted Green */
      --divider:#E1E5EA;     /* Warm Gray */

      /* UI */
      --text:#1F3A5F;
      --muted:#5E7A8A;
      --card: rgba(255,255,255,.92);
      --shadow: 0 18px 40px rgba(31,58,95,.12);
      --max:1420px;
      --font: ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,Arial,"Noto Sans","Helvetica Neue",sans-serif;
    }

    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      font-family:var(--font);
      font-size:17px;
      color:var(--text);
      background:
        radial-gradient(1100px 650px at 18% 10%, rgba(76,175,138,.18), transparent 60%),
        radial-gradient(900px 620px at 85% 0%, rgba(94,122,138,.18), transparent 58%),
        linear-gradient(180deg, #ffffff, var(--bg));
      overflow-x:hidden;
    }
    a{color:inherit;text-decoration:none}

    .container{max-width:var(--max);margin:0 auto;padding:34px 22px 70px}

    .topbar{
      position:sticky; top:0; z-index:20;
      display:flex; align-items:center; justify-content:space-between;
      padding:16px 18px;
      border-bottom:1px solid var(--divider);
      background: rgba(246,248,250,.82);
      backdrop-filter: blur(10px);
    }
    .brand{display:flex;align-items:center}
    .brand__logo{
      width:520px;
      height:240px;
      object-fit:contain;
      display:block;
      filter: drop-shadow(0 10px 18px rgba(31,58,95,.12));
    }

    .topbar__nav{
      display:flex;
      gap:10px;
      align-items:center;
      flex-wrap:wrap;
      justify-content:flex-end;
    }
    .navlink{
      padding:10px 12px;
      border-radius:12px;
      color: rgba(31,58,95,.78);
      border:1px solid transparent;
      font-weight:850;
      background: transparent;
    }
    .navlink:hover{
      color: var(--text);
      border-color: var(--divider);
      background: rgba(255,255,255,.88);
    }
    .navlink--active{
      color: var(--text);
      background: rgba(255,255,255,.92);
      border-color: var(--divider);
    }
    .navlink--cta{
      border-color: rgba(76,175,138,.35);
      background: linear-gradient(135deg, var(--green), rgba(76,175,138,.72));
      color:#fff;
      box-shadow: 0 14px 30px rgba(76,175,138,.18);
    }
    .navlink--cta:hover{
      filter: brightness(1.02);
      border-color: rgba(76,175,138,.45);
      background: linear-gradient(135deg, var(--green), rgba(76,175,138,.82));
    }

    .card{
      margin-top: 18px;
      border:1px solid var(--divider);
      background: var(--card);
      border-radius:28px;
      padding:26px;
      box-shadow:var(--shadow);
    }
    .title{
      margin:0 0 10px;
      font-size:36px;
      line-height:1.1;
      letter-spacing:-.02em;
      color: var(--primary);
      font-weight:950;
    }
    .sub{
      margin:0;
      color: rgba(94,122,138,.98);
      line-height:1.65;
      max-width:90ch;
      font-weight:650;
    }

    .pill{
      margin-top:18px;
      border:1px solid var(--divider);
      background: rgba(31,58,95,.04);
      border-radius:20px;
      padding:14px;
      display:flex;
      gap:12px;
      align-items:center;
      justify-content:space-between;
      flex-wrap:wrap;
    }
    .pill__k{
      color: rgba(94,122,138,.98);
      font-size:13px;
      font-weight:950;
      letter-spacing:.02em;
    }
    .pill__v{
      color: rgba(31,58,95,.92);
      font-size:14px;
      line-height:1.55;
      word-break:break-word;
      font-weight:900;
    }

    .btn{
      display:inline-flex; align-items:center; justify-content:center;
      height:44px;
      padding:0 14px;
      border-radius:14px;
      border:1px solid var(--divider);
      background: rgba(255,255,255,.92);
      color: var(--text);
      font-weight:950;
      font-size:13px;
      cursor:pointer;
      white-space:nowrap;
      transition:.15s ease;
    }
    .btn:hover{transform: translateY(-1px); background: rgba(255,255,255,.98)}
    .btn:active{transform: translateY(0)}
    .btn:disabled{opacity:.55;cursor:not-allowed;transform:none}

    .status{
      margin-top:14px;
      border-radius:18px;
      padding:12px 14px;
      border:1px solid rgba(76,175,138,.30);
      background: rgba(76,175,138,.10);
      color: rgba(31,58,95,.92);
      font-size:13px;
      line-height:1.45;
      font-weight:850;
    }

    @media (max-width:980px){
      .brand__logo{width:380px;height:1800px}
      .title{font-size:30px}
    }
  </style>
</head>

<body>
  <header class="topbar">
    <a class="brand" href="index.html" aria-label="endmysub home">
      <img id="logoImg" class="brand__logo" src="endmysublogo.png" alt="endmysub logo" />
    </a>

    <nav class="topbar__nav" aria-label="Navigation">
      <a class="navlink" href="index.html">Start</a>
      <a class="navlink" href="ToS.html">Nutzungsbedingungen</a>
      <a class="navlink" href="review.html">Review</a>
      <a class="navlink navlink--cta" href="about.html">Warum endmysub?</a>
    </nav>
  </header>

  <main class="container">
    <section class="card">
      <h1 class="title">Erhalten</h1>
      <p class="sub">Deine Zahlung wurde gemeldet. Wir prüfen den Eingang und starten dann die Kündigung.</p>

      <div class="pill">
        <div>
          <div class="pill__k">Request-ID</div>
          <div class="pill__v" id="reqId">—</div>
        </div>
        <button class="btn" id="copyBtn" type="button" disabled>Copy</button>
      </div>

      <div class="status" id="statusBox">Ready.</div>
    </section>
  </main>

  <script>
    // Logo fallback paths (GitHub Pages / Unterordner)
    (function(){
      const img = document.getElementById("logoImg");
      const candidates = [
        "endmysublogo.png",
        "./endmysublogo.png",
        "../endmysublogo.png",
        "/endmysublogo.png"
      ];
      let i = 0;
      img.onerror = () => {
        i++;
        if (i < candidates.length) img.src = candidates[i];
        else img.style.display = "none";
      };
    })();

    const reqIdEl = document.getElementById("reqId");
    const copyBtn = document.getElementById("copyBtn");
    const statusBox = document.getElementById("statusBox");

    function setOk(msg){ statusBox.textContent = msg; }

    const cancelId = localStorage.getItem("ems_cancel_id") || "";
    reqIdEl.textContent = cancelId || "—";
    copyBtn.disabled = !cancelId;

    copyBtn.addEventListener("click", async ()=>{
      try{
        await navigator.clipboard.writeText(cancelId);
        setOk("Copied.");
      }catch(e){
        setOk("Copy failed.");
      }
    });
  </script>
</body>
</html>
